<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÄÄƒng Nháº­p - Dog Breed Recognition</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/base.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/pages/auth.css') }}"
    />
  </head>
  <body class="auth-body">
    <div class="auth-container">
      <!-- Left Side - Brand & Visual -->
      <div class="auth-left">
        <div class="auth-brand">
          <div class="brand-icon">ğŸ•</div>
          <h1 class="brand-title">Dog Breed Recognition</h1>
          <p class="brand-subtitle">Nháº­n diá»‡n giá»‘ng chÃ³ thÃ´ng minh vá»›i AI</p>
        </div>
        <div class="auth-features">
          <div class="feature-item">
            <div class="feature-icon">âœ¨</div>
            <div class="feature-text">
              <h3>Nháº­n diá»‡n chÃ­nh xÃ¡c</h3>
              <p>120 giá»‘ng chÃ³ vá»›i Ä‘á»™ chÃ­nh xÃ¡c cao</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">âš¡</div>
            <div class="feature-text">
              <h3>Xá»­ lÃ½ nhanh chÃ³ng</h3>
              <p>Káº¿t quáº£ trong vÃ i giÃ¢y</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">ğŸ“Š</div>
            <div class="feature-text">
              <h3>Lá»‹ch sá»­ & Thá»‘ng kÃª</h3>
              <p>Theo dÃµi vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Side - Login Form -->
      <div class="auth-right">
        <div class="auth-form-container">
          <div class="auth-header">
            <h2>ChÃ o má»«ng trá»Ÿ láº¡i!</h2>
            <p>ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c sá»­ dá»¥ng há»‡ thá»‘ng</p>
          </div>

          <!-- Flash Messages -->
          {% with messages = get_flashed_messages(with_categories=true) %} {% if
          messages %} {% for category, message in messages %}
          <div class="alert alert-{{ category }}">
            <span class="alert-icon"
              >{% if category == 'success' %}âœ“{% elif category == 'error' %}âœ•{%
              else %}â„¹{% endif %}</span
            >
            <span class="alert-message">{{ message }}</span>
          </div>
          {% endfor %} {% endif %} {% endwith %}

          <form method="post" class="auth-form" id="loginForm">
            <div class="form-group">
              <label for="username" class="form-label">
                <span class="label-icon">ğŸ‘¤</span>
                TÃªn Ä‘Äƒng nháº­p hoáº·c Email
              </label>
              <input
                type="text"
                id="username"
                name="username"
                class="form-input"
                placeholder="Nháº­p tÃªn Ä‘Äƒng nháº­p hoáº·c email"
                required
                autocomplete="username"
              />
              <span class="form-error" id="usernameError"></span>
            </div>

            <div class="form-group">
              <label for="password" class="form-label">
                <span class="label-icon">ğŸ”’</span>
                Máº­t kháº©u
              </label>
              <div class="password-input-wrapper">
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-input"
                  placeholder="Nháº­p máº­t kháº©u"
                  required
                  autocomplete="current-password"
                />
                <button
                  type="button"
                  class="password-toggle"
                  id="togglePassword"
                >
                  <span class="eye-icon" id="eyeIcon">ğŸ‘ï¸</span>
                </button>
              </div>
              <span class="form-error" id="passwordError"></span>
            </div>

            <div class="form-options">
              <label class="checkbox-label">
                <input type="checkbox" name="remember" class="checkbox-input" />
                <span class="checkbox-custom"></span>
                <span class="checkbox-text">Ghi nhá»› Ä‘Äƒng nháº­p</span>
              </label>
              <a href="{{ url_for('account.forgot') }}" class="forgot-password"
                >QuÃªn máº­t kháº©u?</a
              >
            </div>

            <button type="submit" class="btn-submit">
              <span class="btn-text">ÄÄƒng nháº­p</span>
              <span class="btn-icon">â†’</span>
            </button>
          </form>

          <div class="auth-footer">
            <p class="footer-text">
              ChÆ°a cÃ³ tÃ i khoáº£n?
              <a href="{{ url_for('register.register') }}" class="footer-link"
                >ÄÄƒng kÃ½ ngay</a
              >
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Password toggle
      const togglePassword = document.getElementById("togglePassword");
      const passwordInput = document.getElementById("password");
      const eyeIcon = document.getElementById("eyeIcon");

      togglePassword.addEventListener("click", function () {
        const type = passwordInput.type === "password" ? "text" : "password";
        passwordInput.type = type;
        eyeIcon.textContent = type === "password" ? "ğŸ‘ï¸" : "ğŸ™ˆ";
      });

      // Form validation
      const loginForm = document.getElementById("loginForm");
      const usernameInput = document.getElementById("username");
      const usernameError = document.getElementById("usernameError");
      const passwordError = document.getElementById("passwordError");

      loginForm.addEventListener("submit", function (e) {
        let isValid = true;

        // Clear previous errors
        usernameError.textContent = "";
        passwordError.textContent = "";
        usernameInput.classList.remove("input-error");
        passwordInput.classList.remove("input-error");

        // Validate username
        if (usernameInput.value.trim().length < 3) {
          usernameError.textContent = "TÃªn Ä‘Äƒng nháº­p pháº£i cÃ³ Ã­t nháº¥t 3 kÃ½ tá»±";
          usernameInput.classList.add("input-error");
          isValid = false;
        }

        // Validate password
        if (passwordInput.value.length < 6) {
          passwordError.textContent = "Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±";
          passwordInput.classList.add("input-error");
          isValid = false;
        }

        if (!isValid) {
          e.preventDefault();
        }
      });

      // Input focus effects
      document.querySelectorAll(".form-input").forEach((input) => {
        input.addEventListener("focus", function () {
          this.parentElement.classList.add("input-focused");
        });
        input.addEventListener("blur", function () {
          this.parentElement.classList.remove("input-focused");
        });
      });
    </script>
  </body>
</html>
